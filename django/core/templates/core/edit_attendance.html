<!DOCTYPE html>
<html>
<head>
    <title>Tutor Page</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Tutor Page</h1>
    
    <label for="course-select">Select a course:</label>
    <select id="course-select">
        <option value="">Select a course</option>
        {% for course in courses %}
            <option value="{{ course.course_id }}" {% if selected_course and course.course_id == selected_course.course_id %}selected{% endif %}>{{ course.course_name }}</option>
        {% endfor %}
    </select>

    <label for="group-select">Select a group:</label>
    <select id="group-select">
        {% for group in selected_groups %}
            <option value="{{ group.group_id }}">{{ group.group__group_name }}</option>
        {% endfor %}
    </select>

    <script>
        $(document).ready(function(){
            $('#course-select').change(function(){
                var courseId = $(this).val();
                if(courseId){
                    $.ajax({
                        url: '/get-groups/' + courseId + '/',
                        success: function(data){
                            var groupSelect = $('#group-select');
                            groupSelect.empty();
                            data.forEach(function(group){
                                groupSelect.append(new Option(group.group__group_name, group.group_id));
                            });
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
